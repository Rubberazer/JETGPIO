<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jetgpio: jetgpio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Jetgpio<span id="projectnumber">&#160;1.2</span>
   </div>
   <div id="projectbrief">C library to manage the GPIO header of the Nvidia JETSON boards</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('jetgpio_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">jetgpio.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for jetgpio.h:</div>
<div class="dyncontent">
<div class="center"><img src="jetgpio_8h__incl.png" border="0" usemap="#ajetgpio_8h" alt=""/></div>
<map name="ajetgpio_8h" id="ajetgpio_8h">
<area shape="rect" title=" " alt="" coords="51,5,130,31"/>
<area shape="rect" title=" " alt="" coords="5,79,80,104"/>
<area shape="poly" title=" " alt="" coords="85,33,60,69,56,66,81,30"/>
<area shape="rect" title=" " alt="" coords="105,79,175,104"/>
<area shape="poly" title=" " alt="" coords="101,29,126,66,122,69,97,33"/>
</map>
</div>
</div>
<p><a href="jetgpio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a80d84e5dd32fd8ec04cb0370eab0a5b0" id="r_a80d84e5dd32fd8ec04cb0370eab0a5b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80d84e5dd32fd8ec04cb0370eab0a5b0">gpioInitialise</a> (void)</td></tr>
<tr class="memdesc:a80d84e5dd32fd8ec04cb0370eab0a5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the library. gpioInitialise must be called before using the other library functions, it stores the status of all the relevant registers before using/modifying them.  <br /></td></tr>
<tr class="separator:a80d84e5dd32fd8ec04cb0370eab0a5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404d80a9a9292869c1a2b86f183b3774" id="r_a404d80a9a9292869c1a2b86f183b3774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a404d80a9a9292869c1a2b86f183b3774">gpioTerminate</a> (void)</td></tr>
<tr class="memdesc:a404d80a9a9292869c1a2b86f183b3774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates the library. This function restores the used registers to their previous state and releases memory.  <br /></td></tr>
<tr class="separator:a404d80a9a9292869c1a2b86f183b3774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab343b74f5cb62baaaded18e4ff1ed939" id="r_ab343b74f5cb62baaaded18e4ff1ed939"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a> (unsigned gpio, unsigned mode)</td></tr>
<tr class="memdesc:ab343b74f5cb62baaaded18e4ff1ed939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the GPIO mode, typically input or output.  <br /></td></tr>
<tr class="separator:ab343b74f5cb62baaaded18e4ff1ed939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754d22c52d797f32f02c86863496b0ec" id="r_a754d22c52d797f32f02c86863496b0ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a754d22c52d797f32f02c86863496b0ec">gpioRead</a> (unsigned gpio)</td></tr>
<tr class="memdesc:a754d22c52d797f32f02c86863496b0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the GPIO level, on or off, 0 or 1. Arduino style: digitalRead. Wheter a pin has been set as input or output it can be read with this function.  <br /></td></tr>
<tr class="separator:a754d22c52d797f32f02c86863496b0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ec7e76572f925b9e206018fd5d22e9" id="r_a15ec7e76572f925b9e206018fd5d22e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15ec7e76572f925b9e206018fd5d22e9">gpioWrite</a> (unsigned gpio, unsigned level)</td></tr>
<tr class="memdesc:a15ec7e76572f925b9e206018fd5d22e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the GPIO level, on or off. Arduino style: digitalWrite.  <br /></td></tr>
<tr class="separator:a15ec7e76572f925b9e206018fd5d22e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0fe13b9811377a2f2fec9921795fb8f" id="r_ac0fe13b9811377a2f2fec9921795fb8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0fe13b9811377a2f2fec9921795fb8f">gpioSetISRFunc</a> (unsigned gpio, unsigned edge, unsigned debounce, unsigned long *timestamp, void(*f)())</td></tr>
<tr class="memdesc:ac0fe13b9811377a2f2fec9921795fb8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a function to be called (a callback) whenever the specified.  <br /></td></tr>
<tr class="separator:ac0fe13b9811377a2f2fec9921795fb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982f8292ecf78abc5bdeeb330a2e0a05" id="r_a982f8292ecf78abc5bdeeb330a2e0a05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a982f8292ecf78abc5bdeeb330a2e0a05">gpioSetPWMfrequency</a> (unsigned gpio, unsigned frequency)</td></tr>
<tr class="memdesc:a982f8292ecf78abc5bdeeb330a2e0a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the frequency in hertz to be used for the GPIO.  <br /></td></tr>
<tr class="separator:a982f8292ecf78abc5bdeeb330a2e0a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81675c68b04f3c19be1f743eae7f2136" id="r_a81675c68b04f3c19be1f743eae7f2136"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a> (unsigned gpio, unsigned dutycycle)</td></tr>
<tr class="memdesc:a81675c68b04f3c19be1f743eae7f2136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts PWM on the GPIO, dutycycle between 0 (off) and range (fully on). Arduino style: analogWrite.  <br /></td></tr>
<tr class="separator:a81675c68b04f3c19be1f743eae7f2136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4b600818f342b2723043fb9fd594c0" id="r_aaf4b600818f342b2723043fb9fd594c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf4b600818f342b2723043fb9fd594c0">i2cOpen</a> (unsigned i2cBus, unsigned i2cFlags)</td></tr>
<tr class="memdesc:aaf4b600818f342b2723043fb9fd594c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This returns a handle for the device at the address on the I2C bus.  <br /></td></tr>
<tr class="separator:aaf4b600818f342b2723043fb9fd594c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac119696ea99a19576c6fe858bb8a031" id="r_aac119696ea99a19576c6fe858bb8a031"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac119696ea99a19576c6fe858bb8a031">i2cClose</a> (unsigned handle)</td></tr>
<tr class="memdesc:aac119696ea99a19576c6fe858bb8a031"><td class="mdescLeft">&#160;</td><td class="mdescRight">This closes the I2C device associated with the handle.  <br /></td></tr>
<tr class="separator:aac119696ea99a19576c6fe858bb8a031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642db3078905bf982f784fb7b428bda4" id="r_a642db3078905bf982f784fb7b428bda4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a642db3078905bf982f784fb7b428bda4">i2cWriteByteData</a> (unsigned handle, unsigned i2cAddr, unsigned i2cReg, unsigned bVal)</td></tr>
<tr class="memdesc:a642db3078905bf982f784fb7b428bda4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This writes a single byte to the specified register of the device associated with handle.  <br /></td></tr>
<tr class="separator:a642db3078905bf982f784fb7b428bda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76dd5363acd174d24526f54c665c629" id="r_ae76dd5363acd174d24526f54c665c629"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae76dd5363acd174d24526f54c665c629">i2cReadByteData</a> (unsigned handle, unsigned i2cAddr, unsigned i2cReg)</td></tr>
<tr class="memdesc:ae76dd5363acd174d24526f54c665c629"><td class="mdescLeft">&#160;</td><td class="mdescRight">This reads a single byte from the specified register of the device associated with handle.  <br /></td></tr>
<tr class="separator:ae76dd5363acd174d24526f54c665c629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4e911447c30f1c74727334668535e2" id="r_a9a4e911447c30f1c74727334668535e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a4e911447c30f1c74727334668535e2">i2cWriteWordData</a> (unsigned handle, unsigned i2cAddr, unsigned i2cReg, unsigned wVal)</td></tr>
<tr class="memdesc:a9a4e911447c30f1c74727334668535e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This writes two bytes to the specified consecutive register(s) of the device associated with handle.  <br /></td></tr>
<tr class="separator:a9a4e911447c30f1c74727334668535e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54bb3be857e985a527e91e55a1315c21" id="r_a54bb3be857e985a527e91e55a1315c21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54bb3be857e985a527e91e55a1315c21">i2cReadWordData</a> (unsigned handle, unsigned i2cAddr, unsigned i2cReg)</td></tr>
<tr class="memdesc:a54bb3be857e985a527e91e55a1315c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">This reads two bytes from the specified consecutive register(s) of the device associated with handle.  <br /></td></tr>
<tr class="separator:a54bb3be857e985a527e91e55a1315c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2532ad45eb33d8d476c4d6036f694702" id="r_a2532ad45eb33d8d476c4d6036f694702"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2532ad45eb33d8d476c4d6036f694702">spiOpen</a> (unsigned spiChan, unsigned speed, unsigned mode, unsigned cs_delay, unsigned bits_word, unsigned lsb_first, unsigned cs_change)</td></tr>
<tr class="memdesc:a2532ad45eb33d8d476c4d6036f694702"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns a handle for the SPI device on the channel. Data will be transferred at baud bits per second. The flags may be used to modify the default behaviour of a 4-wire operation, mode 0, active low chip select. There are 2 SPI channels called SPI1 &amp; SPI2 on Nano and SPI0 &amp; SPI1 on Orin Nano &amp; NX. For Orin AGX there is only 1 SPI channel: SPI1 (pins 21, 19...so forth). The pins used are given in the following table.  <br /></td></tr>
<tr class="separator:a2532ad45eb33d8d476c4d6036f694702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb213bb27196cab00718d2fdfb33688" id="r_a9fb213bb27196cab00718d2fdfb33688"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fb213bb27196cab00718d2fdfb33688">spiClose</a> (unsigned handle)</td></tr>
<tr class="memdesc:a9fb213bb27196cab00718d2fdfb33688"><td class="mdescLeft">&#160;</td><td class="mdescRight">This functions closes the SPI device identified by the handle.  <br /></td></tr>
<tr class="separator:a9fb213bb27196cab00718d2fdfb33688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e92eb729c89f2a9a893adf83251dc8" id="r_a96e92eb729c89f2a9a893adf83251dc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96e92eb729c89f2a9a893adf83251dc8">spiXfer</a> (unsigned handle, char *txBuf, char *rxBuf, unsigned len)</td></tr>
<tr class="memdesc:a96e92eb729c89f2a9a893adf83251dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function transfers len bytes of data from txBuf to the SPI device associated with the handle. Simultaneously len bytes of data are read from the device and placed in rxBuf.  <br /></td></tr>
<tr class="separator:a96e92eb729c89f2a9a893adf83251dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a80d84e5dd32fd8ec04cb0370eab0a5b0" name="a80d84e5dd32fd8ec04cb0370eab0a5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d84e5dd32fd8ec04cb0370eab0a5b0">&#9670;&#160;</a></span>gpioInitialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioInitialise </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the library. gpioInitialise must be called before using the other library functions, it stores the status of all the relevant registers before using/modifying them. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"> <span class="keywordflow">if</span> (<a class="code hl_function" href="#a80d84e5dd32fd8ec04cb0370eab0a5b0">gpioInitialise</a>() &lt; 0)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// jetgpio initialisation failed.</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">  <span class="comment">// jetgpio initialised okay.</span></div>
<div class="line">} </div>
<div class="ttc" id="ajetgpio_8h_html_a80d84e5dd32fd8ec04cb0370eab0a5b0"><div class="ttname"><a href="#a80d84e5dd32fd8ec04cb0370eab0a5b0">gpioInitialise</a></div><div class="ttdeci">int gpioInitialise(void)</div><div class="ttdoc">Initialises the library. gpioInitialise must be called before using the other library functions,...</div><div class="ttdef"><b>Definition</b> nano.c:185</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a81675c68b04f3c19be1f743eae7f2136" name="a81675c68b04f3c19be1f743eae7f2136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81675c68b04f3c19be1f743eae7f2136">&#9670;&#160;</a></span>gpioPWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioPWM </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>dutycycle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts PWM on the GPIO, dutycycle between 0 (off) and range (fully on). Arduino style: analogWrite. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>Nano: 32, 33 Orin Nano,NX: 15, 32, 33 Orin AGX: 13, 15, 18 </td></tr>
    <tr><td class="paramname">dutycycle</td><td>0-256 (0 to 100%) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, a negative number otherwise</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a>(32, 256); <span class="comment">// Sets pin 32 full on.</span></div>
<div class="line"><a class="code hl_function" href="#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a>(33, 128); <span class="comment">// Sets pin 33 half on. </span></div>
<div class="ttc" id="ajetgpio_8h_html_a81675c68b04f3c19be1f743eae7f2136"><div class="ttname"><a href="#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a></div><div class="ttdeci">int gpioPWM(unsigned gpio, unsigned dutycycle)</div><div class="ttdoc">Starts PWM on the GPIO, dutycycle between 0 (off) and range (fully on). Arduino style: analogWrite.</div><div class="ttdef"><b>Definition</b> nano.c:2048</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a754d22c52d797f32f02c86863496b0ec" name="a754d22c52d797f32f02c86863496b0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a754d22c52d797f32f02c86863496b0ec">&#9670;&#160;</a></span>gpioRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioRead </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the GPIO level, on or off, 0 or 1. Arduino style: digitalRead. Wheter a pin has been set as input or output it can be read with this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the GPIO level if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">printf(<span class="stringliteral">&quot;pin 24 is level %d&quot;</span>, <a class="code hl_function" href="#a754d22c52d797f32f02c86863496b0ec">gpioRead</a>(24)); </div>
<div class="ttc" id="ajetgpio_8h_html_a754d22c52d797f32f02c86863496b0ec"><div class="ttname"><a href="#a754d22c52d797f32f02c86863496b0ec">gpioRead</a></div><div class="ttdeci">int gpioRead(unsigned gpio)</div><div class="ttdoc">Reads the GPIO level, on or off, 0 or 1. Arduino style: digitalRead. Wheter a pin has been set as inp...</div><div class="ttdef"><b>Definition</b> nano.c:1424</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ac0fe13b9811377a2f2fec9921795fb8f" name="ac0fe13b9811377a2f2fec9921795fb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0fe13b9811377a2f2fec9921795fb8f">&#9670;&#160;</a></span>gpioSetISRFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioSetISRFunc </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>edge</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>debounce</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>f&#160;</em></span>)()&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a function to be called (a callback) whenever the specified. </p>
<p>GPIO interrupt occurs. This function will start a thread that will monitor the status of the interrupt.One function may be registered per GPIO. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
    <tr><td class="paramname">edge</td><td>RISING_EDGE, FALLING_EDGE, or EITHER_EDGE </td></tr>
    <tr><td class="paramname">debounce</td><td>0-1000 useconds, to avoid bouncing specially on mechanical inputs </td></tr>
    <tr><td class="paramname">timestamp</td><td>timestamp of the detected edge in nanoseconds in EPOCH format </td></tr>
    <tr><td class="paramname">f</td><td>the callback function, this will be execute if an edge is detected in the selected pin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#ac0fe13b9811377a2f2fec9921795fb8f">gpioSetISRFunc</a>(3, RISING_EDGE, 1000, &amp;timestamp, &amp;callback); <span class="comment">// Calls the &#39;callback&#39; function when a rising edge is detected on pin 3, with a debouncing time of 1000 useconds</span></div>
<div class="line">it also delivers the <span class="keyword">event</span> timestamp on the <span class="stringliteral">&quot;timestamp&quot;</span> variable in EPOCH format (nanoseconds) </div>
<div class="ttc" id="ajetgpio_8h_html_ac0fe13b9811377a2f2fec9921795fb8f"><div class="ttname"><a href="#ac0fe13b9811377a2f2fec9921795fb8f">gpioSetISRFunc</a></div><div class="ttdeci">int gpioSetISRFunc(unsigned gpio, unsigned edge, unsigned debounce, unsigned long *timestamp, void(*f)())</div><div class="ttdoc">Registers a function to be called (a callback) whenever the specified.</div><div class="ttdef"><b>Definition</b> nano.c:1778</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ab343b74f5cb62baaaded18e4ff1ed939" name="ab343b74f5cb62baaaded18e4ff1ed939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab343b74f5cb62baaaded18e4ff1ed939">&#9670;&#160;</a></span>gpioSetMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioSetMode </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the GPIO mode, typically input or output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
    <tr><td class="paramname">mode</td><td>JET_INPUT, JET_OUTPUT </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, -1 otherwise</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a>(17, JET_INPUT);  <span class="comment">// Sets pin 17 as input. </span></div>
<div class="ttc" id="ajetgpio_8h_html_ab343b74f5cb62baaaded18e4ff1ed939"><div class="ttname"><a href="#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a></div><div class="ttdeci">int gpioSetMode(unsigned gpio, unsigned mode)</div><div class="ttdoc">Sets the GPIO mode, typically input or output.</div><div class="ttdef"><b>Definition</b> nano.c:1004</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code hl_function" href="#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a>(18, JET_OUTPUT); <span class="comment">// Sets pin 18 as output. </span></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a982f8292ecf78abc5bdeeb330a2e0a05" name="a982f8292ecf78abc5bdeeb330a2e0a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982f8292ecf78abc5bdeeb330a2e0a05">&#9670;&#160;</a></span>gpioSetPWMfrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioSetPWMfrequency </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>frequency</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the frequency in hertz to be used for the GPIO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>Nano: 32, 33 Orin Nano,NX: 15, 32, 33 Orin AGX: 13, 15, 18 </td></tr>
    <tr><td class="paramname">frequency</td><td>25Hz to 187 kHz on Nano and 50 Hz to 1593 kHz on Orin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if OK, a negative number otherwise</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a982f8292ecf78abc5bdeeb330a2e0a05">gpioSetPWMfrequency</a>(32, 10000); <span class="comment">// Setting up PWM frequency=10kHz @ pin 32 </span></div>
<div class="ttc" id="ajetgpio_8h_html_a982f8292ecf78abc5bdeeb330a2e0a05"><div class="ttname"><a href="#a982f8292ecf78abc5bdeeb330a2e0a05">gpioSetPWMfrequency</a></div><div class="ttdeci">int gpioSetPWMfrequency(unsigned gpio, unsigned frequency)</div><div class="ttdoc">Sets the frequency in hertz to be used for the GPIO.</div><div class="ttdef"><b>Definition</b> nano.c:2022</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a404d80a9a9292869c1a2b86f183b3774" name="a404d80a9a9292869c1a2b86f183b3774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404d80a9a9292869c1a2b86f183b3774">&#9670;&#160;</a></span>gpioTerminate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpioTerminate </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates the library. This function restores the used registers to their previous state and releases memory. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns nothing</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a404d80a9a9292869c1a2b86f183b3774">gpioTerminate</a>(); </div>
<div class="ttc" id="ajetgpio_8h_html_a404d80a9a9292869c1a2b86f183b3774"><div class="ttname"><a href="#a404d80a9a9292869c1a2b86f183b3774">gpioTerminate</a></div><div class="ttdeci">void gpioTerminate(void)</div><div class="ttdoc">Terminates the library. This function restores the used registers to their previous state and release...</div><div class="ttdef"><b>Definition</b> nano.c:701</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a15ec7e76572f925b9e206018fd5d22e9" name="a15ec7e76572f925b9e206018fd5d22e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ec7e76572f925b9e206018fd5d22e9">&#9670;&#160;</a></span>gpioWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioWrite </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>gpio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>level</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the GPIO level, on or off. Arduino style: digitalWrite. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
    <tr><td class="paramname">level</td><td>0-1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a15ec7e76572f925b9e206018fd5d22e9">gpioWrite</a>(24, 1); <span class="comment">// Sets pin 24 high. </span></div>
<div class="ttc" id="ajetgpio_8h_html_a15ec7e76572f925b9e206018fd5d22e9"><div class="ttname"><a href="#a15ec7e76572f925b9e206018fd5d22e9">gpioWrite</a></div><div class="ttdeci">int gpioWrite(unsigned gpio, unsigned level)</div><div class="ttdoc">Sets the GPIO level, on or off. Arduino style: digitalWrite.</div><div class="ttdef"><b>Definition</b> nano.c:1521</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aac119696ea99a19576c6fe858bb8a031" name="aac119696ea99a19576c6fe858bb8a031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac119696ea99a19576c6fe858bb8a031">&#9670;&#160;</a></span>i2cClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cClose </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This closes the I2C device associated with the handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#aac119696ea99a19576c6fe858bb8a031">i2cClose</a>(MPU6050); <span class="comment">//Closing previously opened connection </span></div>
<div class="ttc" id="ajetgpio_8h_html_aac119696ea99a19576c6fe858bb8a031"><div class="ttname"><a href="#aac119696ea99a19576c6fe858bb8a031">i2cClose</a></div><div class="ttdeci">int i2cClose(unsigned handle)</div><div class="ttdoc">This closes the I2C device associated with the handle.</div><div class="ttdef"><b>Definition</b> nano.c:2172</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="aaf4b600818f342b2723043fb9fd594c0" name="aaf4b600818f342b2723043fb9fd594c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4b600818f342b2723043fb9fd594c0">&#9670;&#160;</a></span>i2cOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cOpen </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cBus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cFlags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This returns a handle for the device at the address on the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cBus</td><td>0 or 1, 0 are pins 27 (SDA) &amp; 28 (SCL), 1 are pins 3(SDA) &amp; 5(SCL) In Orin the pins are the same but the i2c devices are: 0-&gt;i2c-1 &amp; 1-&gt;i2c-7 Flags allow you to change the bus speed. NOTE - FLAGS WILL NOT CAUSE ANY EFFECT FOR MACHINES WITH JETPACK &gt;= 6: </td></tr>
    <tr><td class="paramname">i2cFlags</td><td>0 -&gt; 100 kHz </td></tr>
    <tr><td class="paramname">i2cFlags</td><td>1 -&gt; 400 kHz </td></tr>
    <tr><td class="paramname">i2cFlags</td><td>2 -&gt; 1 MHz </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a handle with the I2C bus number being opened (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> MPU6050 = <a class="code hl_function" href="#aaf4b600818f342b2723043fb9fd594c0">i2cOpen</a>(0,0); <span class="comment">//Opening a connection on pins 27/28 at speed 100kHz </span></div>
<div class="ttc" id="ajetgpio_8h_html_aaf4b600818f342b2723043fb9fd594c0"><div class="ttname"><a href="#aaf4b600818f342b2723043fb9fd594c0">i2cOpen</a></div><div class="ttdeci">int i2cOpen(unsigned i2cBus, unsigned i2cFlags)</div><div class="ttdoc">This returns a handle for the device at the address on the I2C bus.</div><div class="ttdef"><b>Definition</b> nano.c:2091</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ae76dd5363acd174d24526f54c665c629" name="ae76dd5363acd174d24526f54c665c629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76dd5363acd174d24526f54c665c629">&#9670;&#160;</a></span>i2cReadByteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cReadByteData </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cReg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This reads a single byte from the specified register of the device associated with handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
    <tr><td class="paramname">i2cAddr</td><td>0-0x7F, the I2C slave address </td></tr>
    <tr><td class="paramname">i2cReg</td><td>0-255, the register to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the byte read (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">gyro_x_H = <a class="code hl_function" href="#ae76dd5363acd174d24526f54c665c629">i2cReadByteData</a>(MPU6050, 0x68, 0x43); <span class="comment">// getting register 0x43 out of opened connection MPU6050 with i2C address 0x68 </span></div>
<div class="ttc" id="ajetgpio_8h_html_ae76dd5363acd174d24526f54c665c629"><div class="ttname"><a href="#ae76dd5363acd174d24526f54c665c629">i2cReadByteData</a></div><div class="ttdeci">int i2cReadByteData(unsigned handle, unsigned i2cAddr, unsigned i2cReg)</div><div class="ttdoc">This reads a single byte from the specified register of the device associated with handle.</div><div class="ttdef"><b>Definition</b> nano.c:2249</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a54bb3be857e985a527e91e55a1315c21" name="a54bb3be857e985a527e91e55a1315c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54bb3be857e985a527e91e55a1315c21">&#9670;&#160;</a></span>i2cReadWordData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cReadWordData </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cReg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This reads two bytes from the specified consecutive register(s) of the device associated with handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
    <tr><td class="paramname">i2cAddr</td><td>0-0x7F, the I2C slave address </td></tr>
    <tr><td class="paramname">i2cReg</td><td>0-255, the register to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the word read (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">gyro_x_H = <a class="code hl_function" href="#a54bb3be857e985a527e91e55a1315c21">i2cReadWordData</a>(MPU6050, 0x68, 0x43); <span class="comment">// getting register 0x43 and 0x44 out of opened connection MPU6050 with i2C address 0x68 </span></div>
<div class="ttc" id="ajetgpio_8h_html_a54bb3be857e985a527e91e55a1315c21"><div class="ttname"><a href="#a54bb3be857e985a527e91e55a1315c21">i2cReadWordData</a></div><div class="ttdeci">int i2cReadWordData(unsigned handle, unsigned i2cAddr, unsigned i2cReg)</div><div class="ttdoc">This reads two bytes from the specified consecutive register(s) of the device associated with handle.</div><div class="ttdef"><b>Definition</b> nano.c:2344</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a642db3078905bf982f784fb7b428bda4" name="a642db3078905bf982f784fb7b428bda4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642db3078905bf982f784fb7b428bda4">&#9670;&#160;</a></span>i2cWriteByteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cWriteByteData </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cReg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>bVal</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This writes a single byte to the specified register of the device associated with handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
    <tr><td class="paramname">i2cAddr</td><td>0-0x7F, the I2C slave address </td></tr>
    <tr><td class="paramname">i2cReg</td><td>0-255, the register to write </td></tr>
    <tr><td class="paramname">bVal</td><td>0-0xFF, the value to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, negative number otherwise</dd></dl>
<div class="fragment"><div class="line">writestat = <a class="code hl_function" href="#a642db3078905bf982f784fb7b428bda4">i2cWriteByteData</a>(MPU6050, 0x68, 0x1B, 0x00); <span class="comment">// writing 0x00 to register address 0x1B on opened chanel MPU6050 with i2C address 0x68 </span></div>
<div class="ttc" id="ajetgpio_8h_html_a642db3078905bf982f784fb7b428bda4"><div class="ttname"><a href="#a642db3078905bf982f784fb7b428bda4">i2cWriteByteData</a></div><div class="ttdeci">int i2cWriteByteData(unsigned handle, unsigned i2cAddr, unsigned i2cReg, unsigned bVal)</div><div class="ttdoc">This writes a single byte to the specified register of the device associated with handle.</div><div class="ttdef"><b>Definition</b> nano.c:2199</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a9a4e911447c30f1c74727334668535e2" name="a9a4e911447c30f1c74727334668535e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4e911447c30f1c74727334668535e2">&#9670;&#160;</a></span>i2cWriteWordData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cWriteWordData </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>i2cReg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>wVal</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This writes two bytes to the specified consecutive register(s) of the device associated with handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
    <tr><td class="paramname">i2cAddr</td><td>0-0x7F, the I2C slave address </td></tr>
    <tr><td class="paramname">i2cReg</td><td>0-255, the register to write </td></tr>
    <tr><td class="paramname">wVal</td><td>0-0xFFFF, the value to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, negative number otherwise</dd></dl>
<div class="fragment"><div class="line">writestat = <a class="code hl_function" href="#a9a4e911447c30f1c74727334668535e2">i2cWriteWordData</a>(MPU6050, 0x68, 0x1B, 0x0000); <span class="comment">// writing 0x0000 to register address 0x1B &amp; 0x1C on opened chanel MPU6050 with i2C address 0x68 </span></div>
<div class="ttc" id="ajetgpio_8h_html_a9a4e911447c30f1c74727334668535e2"><div class="ttname"><a href="#a9a4e911447c30f1c74727334668535e2">i2cWriteWordData</a></div><div class="ttdeci">int i2cWriteWordData(unsigned handle, unsigned i2cAddr, unsigned i2cReg, unsigned wVal)</div><div class="ttdoc">This writes two bytes to the specified consecutive register(s) of the device associated with handle.</div><div class="ttdef"><b>Definition</b> nano.c:2294</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a9fb213bb27196cab00718d2fdfb33688" name="a9fb213bb27196cab00718d2fdfb33688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb213bb27196cab00718d2fdfb33688">&#9670;&#160;</a></span>spiClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiClose </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This functions closes the SPI device identified by the handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>spiOpen</em>] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a9fb213bb27196cab00718d2fdfb33688">spiClose</a>(SPI_init); <span class="comment">//closing previously opened spi port with handle SPI_init </span></div>
<div class="ttc" id="ajetgpio_8h_html_a9fb213bb27196cab00718d2fdfb33688"><div class="ttname"><a href="#a9fb213bb27196cab00718d2fdfb33688">spiClose</a></div><div class="ttdeci">int spiClose(unsigned handle)</div><div class="ttdoc">This functions closes the SPI device identified by the handle.</div><div class="ttdef"><b>Definition</b> nano.c:2547</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a2532ad45eb33d8d476c4d6036f694702" name="a2532ad45eb33d8d476c4d6036f694702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2532ad45eb33d8d476c4d6036f694702">&#9670;&#160;</a></span>spiOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiOpen </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>spiChan</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>speed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>cs_delay</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>bits_word</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>lsb_first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>cs_change</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns a handle for the SPI device on the channel. Data will be transferred at baud bits per second. The flags may be used to modify the default behaviour of a 4-wire operation, mode 0, active low chip select. There are 2 SPI channels called SPI1 &amp; SPI2 on Nano and SPI0 &amp; SPI1 on Orin Nano &amp; NX. For Orin AGX there is only 1 SPI channel: SPI1 (pins 21, 19...so forth). The pins used are given in the following table. </p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Port   </th><th class="markdownTableHeadNone">MISO   </th><th class="markdownTableHeadNone">MOSI   </th><th class="markdownTableHeadNone">SCLK   </th><th class="markdownTableHeadNone">CS0   </th><th class="markdownTableHeadNone">CS1    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SPI1/SPI0   </td><td class="markdownTableBodyNone">21   </td><td class="markdownTableBodyNone">19   </td><td class="markdownTableBodyNone">23   </td><td class="markdownTableBodyNone">24   </td><td class="markdownTableBodyNone">26    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SPI2/SPI1   </td><td class="markdownTableBodyNone">22   </td><td class="markdownTableBodyNone">37   </td><td class="markdownTableBodyNone">13   </td><td class="markdownTableBodyNone">18   </td><td class="markdownTableBodyNone">16   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiChan</td><td>0-1 (0 stands for SPI1 on Nano, SPI0 on Orin Nano and SPI1 on Orin AGX, 1 stands for SPI2 on Nano and SPI1 on Orin Nano) </td></tr>
    <tr><td class="paramname">speed</td><td>up to 50M (beyond that expect problems, actually we are not going beyond that) </td></tr>
    <tr><td class="paramname">mode</td><td>defines the SPI mode</td></tr>
  </table>
  </dd>
</dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Mode   </th><th class="markdownTableHeadNone">POL   </th><th class="markdownTableHeadNone">PHA    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">1   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cs_delay</td><td>delay if nonzero, how long to delay after the last bit transfer in us before optionally deselecting the device before the next transfer </td></tr>
    <tr><td class="paramname">bits_word</td><td>bits per word from 1 to 32 bits </td></tr>
    <tr><td class="paramname">lsb_first</td><td>is 1 if least significant bit first 0 otherwise </td></tr>
    <tr><td class="paramname">cs_change</td><td>is 1 to deselect device before starting the next transfer otherwise 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a handle (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">SPI_init = <a class="code hl_function" href="#a2532ad45eb33d8d476c4d6036f694702">spiOpen</a>(1, 5000000, 0, 0, 8, 1, 1); <span class="comment">// SPI2 (pins 22/37, 500 kHz, mode 0, cs delay 0, 8 bits/word,lsb first 1, cs change 1 </span></div>
<div class="ttc" id="ajetgpio_8h_html_a2532ad45eb33d8d476c4d6036f694702"><div class="ttname"><a href="#a2532ad45eb33d8d476c4d6036f694702">spiOpen</a></div><div class="ttdeci">int spiOpen(unsigned spiChan, unsigned speed, unsigned mode, unsigned cs_delay, unsigned bits_word, unsigned lsb_first, unsigned cs_change)</div><div class="ttdoc">This function returns a handle for the SPI device on the channel. Data will be transferred at baud bi...</div><div class="ttdef"><b>Definition</b> nano.c:2389</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a96e92eb729c89f2a9a893adf83251dc8" name="a96e92eb729c89f2a9a893adf83251dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e92eb729c89f2a9a893adf83251dc8">&#9670;&#160;</a></span>spiXfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiXfer </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>txBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>rxBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function transfers len bytes of data from txBuf to the SPI device associated with the handle. Simultaneously len bytes of data are read from the device and placed in rxBuf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>spiOpen</em>] </td></tr>
    <tr><td class="paramname">txBuf</td><td>the data bytes to write </td></tr>
    <tr><td class="paramname">rxBuf</td><td>the received data bytes </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to transfer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of bytes transferred if OK, otherwise a negative number.</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_function" href="#a96e92eb729c89f2a9a893adf83251dc8">spiXfer</a>(SPI_init, tx, rx, 7); <span class="comment">//transfers tx data with a data lenght of 7 words and  receiving rx data from prevously opened connection with handle SPI_init </span></div>
<div class="ttc" id="ajetgpio_8h_html_a96e92eb729c89f2a9a893adf83251dc8"><div class="ttname"><a href="#a96e92eb729c89f2a9a893adf83251dc8">spiXfer</a></div><div class="ttdeci">int spiXfer(unsigned handle, char *txBuf, char *rxBuf, unsigned len)</div><div class="ttdoc">This function transfers len bytes of data from txBuf to the SPI device associated with the handle....</div><div class="ttdef"><b>Definition</b> nano.c:2569</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="jetgpio_8h.html">jetgpio.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
